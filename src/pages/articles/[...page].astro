---
import type { GetStaticPaths, Page } from "$data/shared";
import ArticleListLayout from "$layouts/ArticleListLayout.astro";
import { CollectionEntry, getCollection } from "astro:content";

export const getStaticPaths = (async ({ paginate }) => {
  const articles = (await getCollection("blog")).sort((a, b) => {
    return b.data.date.getTime() - a.data.date.getTime();
  });
  return paginate(articles, { pageSize: 6 });
}) satisfies GetStaticPaths;

interface Props {
  page: Page<CollectionEntry<"blog">>;
}

const { page } = Astro.props;
---

<ArticleListLayout page={page} title="Articles" />
